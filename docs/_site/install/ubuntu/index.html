<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Installing on Ubuntu | PopIt | mySociety</title>
    <link rel="stylesheet" href="/docs/stylesheets/styles.css">
    <meta name="viewport" content="initial-scale=1">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <div class="side">
        <header>
          <h1><a href="/docs/">PopIt documentation</a></h1>
          <p>PopIt is a way to create, store and share key facts about people, especially their job titles, photo, contact details and career histories</p>

          <ul>
            <li><a href="/docs/">Home</a></li>
            
            <li>
              <a href="/docs/install">Installing&hellip;</a>
              
              
              <ul>
                <li><a href="/docs/install/get-the-code">Get the code</a></li>
                <li><a href="/docs/install/prerequisites">Prerequisites</a></li>                
                <li><a href="/docs/install/macos">Mac OS X</a></li>
                <li><a href="/docs/install/ubuntu">Ubuntu</a></li>
                <li><a href="/docs/install/vagrant">Vagrant</a></li>
                <li><a href="/docs/install/configuration">Configuration</a></li>
              </ul>
              
            </li>

            <li>
              <a href="/docs/contributing">Contributing&hellip;</a>
              
              
            </li>

          </ul>

          <ul class="buttons">
            <li><a href="https://github.com/mysociety/popit/zipball/master">Download <strong>ZIP File</strong></a></li>
            <li><a href="https://github.com/mysociety/popit/tarball/master">Download <strong>TAR Ball</strong></a></li>
            <li><a href="https://github.com/mysociety/popit">View on <strong>GitHub</strong></a></li>
          </ul>

        </header>
        <footer>
          <p><small>Theme modified from <a href="https://github.com/orderedlist/minimal">orderedlist/minimal</a></small></p>
        </footer>
      </div>
      <section>

        <h1>Installing on Ubuntu</h1>

        <p>The following instructions have been used successfully on a default installation of the Server edition of Ubuntu 12.04 (Precise Pangolin), if youâ€™re using a different version your mileage may vary, but they should give you a good idea of where to start.</p>

<p>Almost all the packages required are available from apt-get repositories in the standard install, however there are a few extra steps needed. The following is a quick rundown of the commands you might need:</p>

<pre><code># 1. Install extra repositories for Node.js and MongoDB

# Instructions from: https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager
sudo apt-get install python-software-properties
sudo add-apt-repository ppa:chris-lea/node.js

# Instructions from: http://docs.mongodb.org/manual/tutorial/install-mongodb-on-ubuntu/
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
sudo echo "deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen" \
  &gt; /etc/apt/sources.list.d/10gen.list

# 2. Update apt-get so that it's aware of the new packages available
sudo apt-get update

# 3. Install all the packages you need to run PopIt 
# (you may have some of these already)
# Note you need version 1.9 of Ruby, which in Ubuntu packages is helpfully
# labelled 1.9.1, version 1.8 won't work.
sudo apt-get install nodejs npm mongodb-10gen build-essential ruby1.9.1 ruby1.9.1-dev

# 4. Install gems needed to build the code
sudo gem install compass 

# (Optional)
# If you wish to develop Popit, you'll need some extra packages in order
# to run the tests

# 5. Chromium browser and the chromedriver (including X11 if you've 
# started with a server edition of Ubuntu, which will add ~150MB of X11
# related dependencies
sudo apt-get install chromium-browser unzip jekyll

# chromedriver is only available as a binary download:
wget http://chromedriver.googlecode.com/files/chromedriver_linux64_23.0.1240.0.zip
unzip chromedriver_linux64_23.0.1240.0.zip
rm chromedriver_linux64_23.0.1240.0.zip
# You could put this anywhere you like, as long as it's in your $PATH
sudo mv chromedriver /usr/local/bin

# 6. Extra gems for running browser-based tests
sudo gem install watir-webdriver pry

# Finally, if you've been running all this on a headless server, you need
# to start some kind of display to enable the browser based tests to run. 
# (If you've got a gui already, you can skip this step).

# The easiest way to do this is by using Xvfb:
sudo apt-get install xvfb

# You need to configure this to run, for which you can use something like:
Xvfb :99 -ac &amp;
# Then you need to let programs know where to find the display:
export DISPLAY=:99

# You'll need to run these last two commands everytime you log in, or 
# configure it to run automatically. 
# One of the many ways to do that is to add the xvfb command to 
# `/etc/rc.local` (above the last line that reads exit 0) and the export 
# command to your `~/.bashrc` file.
</code></pre>


      </section>
    </div>
  </body>
</html>